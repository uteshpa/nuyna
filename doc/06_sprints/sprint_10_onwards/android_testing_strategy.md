# Android未テスト問題への対策戦略

**作成日:** 2026年1月10日

---

## 1. 課題：72%の市場がブラックボックス

**現状の最大のリスクは、グローバル市場の72%を占めるAndroidプラットフォームでの動作が一切検証されていないことです。**

最終スプリントまで実機テストができないという制約は、リリース直前に致命的な問題が発覚する可能性を極めて高くします。この「ブラックボックス」状態を解消するため、以下の3層からなる防御戦略を提案します。

---

## 2. 3層防御戦略

### 第1層：早期発見（開発中の自動・クラウドテスト）

**目的:** 開発の早い段階で、致命的なクラッシュや基本的な動作不良を自動的に検知する。

**具体的なアクション（Sprint 2で実施）：**

1.  **Firebase Test Labの即時導入**
    - **Roboテスト:** AIがアプリを自動的に操作し、予期せぬクラッシュやUIの不整合を発見します。これは、多様なデバイスでの基本的な安定性を確保するための最も費用対効果の高い方法です。
    - **Game Loopテスト:** Roboテストを補完し、動画選択→処理→保存というコアな一連の動作をスクリプト化して実行します。これにより、主要機能が動作することを保証します。

2.  **テスト対象デバイス**
    - **OSバージョン:** Android 13, 14, 15
    - **主要メーカー:** Google (Pixel), Samsung (Galaxy), Xiaomi
    - **画面サイズ:** 標準、大画面、折りたたみ式

3.  **CI/CDへの統合**
    - プルリクエストごとに自動テストを実行し、問題のあるコードがマージされるのを防ぎます。

**期待される効果:** 開発中にAndroidでの重大なバグの約70-80%を自動的に検知・修正し、最終スプリントの負担を大幅に軽減します。

---

### 第2層：実機検証と実世界フィードバック（リリース直前）

**目的:** 自動テストでは発見できないパフォーマンス、UIの質感、ハードウェア固有の問題を人間が検証する。

**具体的なアクション（Sprint 3で実施）：**

1.  **最低1台のAndroid実機の調達**
    - **推奨機種:** **Google Pixel 6a** またはその後継機（中古で約3-4万円）
    - **理由:**
        - **純粋なAndroid:** メーカー独自のカスタマイズがなく、基準となる動作を確認できる。
        - **開発者向け:** デバッグやプロファイリングが容易。
        - **コストパフォーマンス:** ミドルレンジの代表的な性能を持つ。
    - **目的:** クラウドテストで発見された問題のデバッグ、パフォーマンスの体感、ネイティブ連携部分の最終確認。

2.  **ベータテストプログラムの開始**
    - Google Playのベータテスト機能を使用し、10〜20人程度のユーザーにテストを依頼します。
    - **目的:** 多様なメーカー（Samsung, OPPO, Sonyなど）や、低スペックな端末での動作フィードバックを収集します。

**期待される効果:** 市場に出回る多様なデバイスでの現実的な問題を洗い出し、リリースの最終的なGo/No-Go判断の精度を高めます。

---

### 第3層：リリース後の監視と迅速対応（セーフティネット）

**目的:** リリース後に発生した予期せぬ問題を迅速に検知し、影響を最小限に抑える。

**具体的なアクション（リリース時に実施）：**

1.  **段階的ロールアウト**
    - まずは日本市場の1%のユーザーにのみリリースします。
    - 24〜48時間、クラッシュレポートを監視し、問題がなければ10%、50%、100%と段階的に展開します。

2.  **Firebase Crashlyticsによる常時監視**
    - 導入済みのCrashlyticsを活用し、Androidで発生したクラッシュをリアルタイムで検知します。
    - 重大な問題が発生した場合は、即座にロールアウトを停止し、修正版をリリースします。

**期待される効果:** 万が一問題が発生しても、全ユーザーに影響が及ぶ前に対処でき、ブランドイメージの毀損を最小限に食い止めます。

---

## 3. 開発計画への統合

| スプリント | 実施する対策 |
| :--- | :--- |
| **Sprint 2** | **第1層防御の構築**<br>- Firebase Test Labのセットアップ<br>- RoboテストとGame Loopテストの実装<br>- CI/CDへの統合 |
| **Sprint 3** | **第2層防御の展開**<br>- Android実機（Pixel 6a）の調達とテスト<br>- ベータテストプログラムの開始とフィードバック収集 |
| **リリース** | **第3層防御の実行**<br>- 段階的ロールアウト<br>- Crashlyticsによる常時監視 |

---

## 4. 結論

**「Android未テスト」という最大のリスクは、この3層防御戦略によって管理可能です。**

実機がない序盤は**クラウドテスト**で網羅的にリスクを洗い出し、終盤は**実機とベータテスト**で深く検証し、リリース後は**監視体制**で万が一に備える。この段階的なアプローチにより、手戻りを最小限に抑え、安全かつ効率的にAndroid市場への参入を実現します。
